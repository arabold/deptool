# :octopus: SPDX Dependency Parser

The SPDX Dependency Parser is a command-line tool that parses SPDX files generated by GitHub Dependency Insights and extracts detailed information about software dependencies. It provides the flexibility to display dependency details in various output formats and allows you to sort the results based on different criteria.

## Features

- Parses SPDX files to extract dependency information.
- Supports multiple output formats: text, markdown, and CSV.
- Allows sorting dependencies by name, version, ecosystem, or license.
- Displays the total number of dependencies at the end of the output.

## Usage

To use the SPDX Dependency Parser, follow these steps:

1. Clone this repository or download the `spdx_parser.py` script.

2. Install the required libraries:

   ```bash
   pip install argparse
   ```

3. Run the parser with SPDX files as input. You can specify the desired output format and sorting criteria (optional):

   ```bash
   python spdx_parser.py SPDX_file1.json SPDX_file2.json --output-format markdown --sort-by name
   ```

   - `SPDX_file1.json` and `SPDX_file2.json` are the SPDX files you want to parse.
   - `--output-format` allows you to choose the output format (`text`, `markdown`, or `csv`).
   - `--sort-by` enables sorting the results by `name`, `version`, `ecosystem`, or `license`.

### Output Formats

#### Text Format

By default, the tool displays dependency details in a simple text format:

```
Dependency Details:
Name: dependency_name
Version: dependency_version
Ecosystem: dependency_ecosystem
License: dependency_license

...

Total Dependencies: X
```

#### Markdown Format

Use the `--output-format markdown` option to display dependencies in markdown format suitable for documentation:

```markdown
| Name            | Version            | Ecosystem            | License            |
| --------------- | ------------------ | -------------------- | ------------------ |
| dependency_name | dependency_version | dependency_ecosystem | dependency_license |
| ...             | ...                | ...                  | ...                |
```

#### CSV Format

Use the `--output-format csv` option to generate a CSV file with dependency details:

```bash
python spdx_parser.py SPDX_file1.json SPDX_file2.json --output-format csv --sort-by name > dependencies.csv
```

The CSV file will contain columns: `Name`, `Version`, `Ecosystem`, and `License`.

### Sorting Dependencies

You can sort the dependencies based on the criteria you specify with the `--sort-by` option. For example, to sort by name:

```bash
python spdx_parser.py SPDX_file1.json SPDX_file2.json --output-format text --sort-by name
```

## Exporting Dependency Insights from GitHub

To export an SPDX file from GitHub Insights, follow these steps:

1. **Navigate to Your Repository:** Open the GitHub repository for which you want to generate the SPDX file.

2. **Go to the "Insights" Tab:** In the repository's navigation bar, click on the "Insights" tab. This tab provides various insights and analysis tools.

3. **Select "Dependency Graph":** From the left sidebar, select "Dependency Graph." This section provides information about your repository's dependencies.

4. **Export SBOM:**

   - In the "Dependency Graph" section, you'll see a table that lists all your repository's dependencies.
   - Look for the "Export SBOM" button or similar option provided by GitHub to export the SPDX file.
   - Click on "Export SBOM" to initiate the export process.

5. **Download the SPDX File:** GitHub will generate and prompt you to download an SPDX file (usually in JSON format) containing the software bill of materials for your repository.

6. **Save the SPDX File:** Save the downloaded SPDX file to your local machine. You can specify the desired location for saving the file.

With these steps, you can correctly export an SPDX file from GitHub Insights using the "Export SBOM" function, and then use the SPDX file as input for the SPDX Dependency Parser CLI tool or other SPDX-related tasks.

---

Feel free to customize and extend the tool to meet your specific needs. If you have any questions or encounter issues, please refer to the GitHub repository for support and updates.
